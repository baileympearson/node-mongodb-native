
Cursor:
  id:
    type: int64
    required: true

  ns:
    type: string

  firstBatch:
    type: array

  nextBatch:
    type: array

  atClusterTime:
    type: timestamp

ClusterTime:
  clusterTime:
    type: timestamp
    required: true

  signature:
    type: deserializedObject
    # deserialize immediately by calling toObject
    required: false

ServerResponse:
  ok:
    type: int64
    required: true
    lazy: false

  operationTime:
    type: timestamp
    required: false
    lazy: true

  cursor:
    type: Cursor
    required: false
    lazy: true


  atClusterTime:
    required: false
    type: timestamp
    lazy: true


  $err:
    type: string
    required: false
    lazy: true

  errmsg:
    type: string
    required: false
    lazy: true


  code:
    type: number
    required: false
    lazy: true


  clusterTime:
    type: ClusterTime
    required: false
    lazy: true

  recoveryToken:
    # some objects are expected to be opaque to the driver
    # but also perfectly roundtrip-able
    type: deserializedObject
    deserializeOptions:
      promoteLongs: false
      promoteValues: false
      promoteBuffers: false
    required: false
    lazy: true
